<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <span>email</span>
    <input type="email" id="email" />
    <span>password</span>
    <input type="password" name="" id="password" />
    <button id="submit">submit</button>
    <!-- HTML -->
    <button id="googleSignInButton">Sign in with Google</button>


    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-analytics.js";
      import {
        getAuth,
        createUserWithEmailAndPassword,
        GoogleAuthProvider,
        signInWithPopup
    
      } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
      const firebaseConfig = {
        apiKey: "AIzaSyB5piM8HyYATgWqMPi2U6bwAVz94Q189Bs",
        authDomain: "fir-basics-569a0.firebaseapp.com",
        projectId: "fir-basics-569a0",
        storageBucket: "fir-basics-569a0.appspot.com",
        messagingSenderId: "971203436246",
        appId: "1:971203436246:web:11d5aa9c6a02ee8dc6f377",
        measurementId: "G-LGY93EHL4E",
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      import {
        getFirestore,
        doc,
        getDoc,
        getDocs, //get all documents inside one collection
        setDoc,
        collection,
        addDoc,
        updateDoc,
        deleteDoc,
        deleteField,
        query,
        where,
        orderBy,
      } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-firestore.js";
      const db = getFirestore();
      const auth = getAuth();
     
      //----------------------------------------------------------------------------//
      // JavaScript
      const googleProvider = new GoogleAuthProvider();
      googleSignInButton.addEventListener("click", () => {
            signInWithPopup(auth, googleProvider)
                .then((result) => {
                    console.log(result);
                })
                .catch((error) => {
                    console.error(error);
                });
        });  
    

      document.getElementById("submit").addEventListener("click", () => {
        let email = document.getElementById("email").value;
        let password = document.getElementById("password").value;
        createUserWithEmailAndPassword(auth, email, password)
          .then((credenitails) => {})
          .catch((err) => {
            console.log(err);
          });
      });
      // document.getElementById("add").addEventListener("click", () => {
      //    addDoc_autoId()
      // addDocWithSpecificId()
      //getSpecificDocument();
      //updateSpecificDocument()
      // deleteDocument();
      //  getAllDataFromDatabase();
      //});
      /*---------------------add a document wuth auto id--------------------------------
        async function addDoc_autoId(){
              let ref=collection(db,"test")
              const docRef = await addDoc(ref, {
                  name:"test",
                  age:"99"
            }).then(()=>{
              console.log("added done")
            }).catch((err)=>{
              console.log(err)
            })
          }*/
      /*---------------------add document with specific id------------------------------
      
            async function addDocWithSpecificId(){
              let ref=doc(db,"test","document name")

              const docref = await setDoc(ref, {
                  name:"test",
                  age:"99"
              }).then(()=>{
                  console.log("added done")
              }).catch((err)=>{
                  console.log(err)
              })
          }
      -------------------------------------------------------------------------------------------------

          */
      /*---------------------get specific dodcument-------------------------------------------------
           async function getSpecificDocument() {
              let ref = doc(db, "test", "document name");
              const docSnap = await getDoc(ref);
              if (docSnap.exists()) {
                console.log(docSnap.data());
              } else {
                console.log("no data");
              }
            }
          */

      //---------------------updateDocument----------------------------------------------------
      //    async function updateSpecificDocument(){
      //     let ref=doc(db,"test","document name")
      //     await updateDoc(ref,{
      //         name:"hoho",
      //         age:"hihi"
      //         }).then(()=>{
      //             console.log("added done")
      //         }).catch((err)=>{
      //             console.log(err)
      //         })
      //    }
      //-------------------------------------delete document ----------------------------------------------------
      /*---------------------deleteDocument 
           async function deleteDocument() {
        let ref = doc(db, "test", "document name");
        const docSnap = await getDoc(ref);
        if (!docSnap.exists()) {
          alert("document not exists ");
        } else {
          await deleteDoc(ref)
            .then(() => {
              alert("deleted");
            })
            .catch((err) => {
              alert(err);
            });
        }
      }*/
      /*----------------------getAllDataFromDatabase-----------------------------------------
      async function getAllDataFromDatabase() {
        const querySnapshot=await getDocs(collection(db,"test"));
        let data = [];
        querySnapshot.forEach(doc => {
          data.push(doc.data());
        });
        console.log(data)
     }*/
    </script>
    <script src="qoutesapi.js" ></script>
  </body>
</html>
